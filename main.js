var pinturas = [
  {
    nome: "Impression, sunrise",
    autor: "Claude Monet",
    ano: 1872,
    arquivo: "./impression-sunrise.jpg",
    descricao: `
    When Impression, Sunrise hung at its first exhibition in 1874, art critic Louis Leroy derisively used the term “Impressionistic,” from the title of this painting, to describe Monet’s works. 
    This term was quickly adopted by what were soon to be known as the Impressionist painters, and the exhibition which included other works by Impressionist artists, was from then on referred to as the “Impressionist Exhibition.” 
    This painting was later stolen in 1985 from the Musee Marmottan Monet in Paris, but was recovered undamaged in 1990, and was put back on display at the museum in 1991.
    `,
    wikipediaLink: "https://en.wikipedia.org/wiki/Impression,_Sunrise",
  },
  {
    nome: "Guernica",
    autor: "Pablo Picasso",
    ano: 1937,
    arquivo: "./guernica-by-pablo-picasso.jpg",
    descricao: `
    Guernica was Picasso's response to the bombing of the Basque town of the same name on April 26, 1937 during the Spanish Civil War. Picasso was commissioned by the republican government of Spain to produce a mural painting for the Spanish Pavilion at the World Fair in Paris. Painted in one month - from May to June 1937 - Guernica became the centerpiece of the Spanish pavilion and a sensation at the Fair, but it was consequently banned from exhibition in Spain until military dictator Franco fell from power in 1975.
    Picasso had studied dramatic photographs of bombing published in various periodicals. Despite that, neither the studies nor the finished picture contain a single allusion to a specific event, constituting instead a generic plea against the barbarity and terror of war. The scene depicted in Guernica is a room full of moving, screaming and dying adults, children and animals.
    `,
    wikipediaLink: "https://en.wikipedia.org/wiki/Guernica_(Picasso)",
  },
  {
    nome: "Nighthawks",
    autor: "Edward Hopper",
    ano: 1942,
    arquivo: "./nighthawks_by_edward_hopper_1942.jpg",
    descricao: `
    Edward Hopper said that Nighthawks was inspired by "a restaurant on New York's Greenwich Avenue where two streets meet," but the image, with its carefully constructed composition and lack of narrative, has a timeless quality that transcends its particular locale. One of the best-known images of 20th-century art, the painting depicts an all-night diner in which three customers, all lost in their own thoughts, have congregated. Fluorescent lights had just come into use in the early 1940s, and the all-night diner emits an eerie glow, like a beacon on the dark street corner. Hopper eliminated any reference to an entrance, and the viewer, drawn to the light, is shut out from the scene by a seamless wedge of glass. The four anonymous and uncommunicative night owls seem as separate and remote from the viewer as they are from one another. Reworked and parodied countless times, Nighthawks has become an icon of American culture.
    `,
    wikipediaLink: "https://en.wikipedia.org/wiki/Nighthawks",
  },
  {
    nome: "The Great Wave off Kanagawa",
    autor: "Katsushika Hokusai",
    ano: 1831,
    arquivo: "./the-great-wave-off-kanagawa.jpg",
    descricao: `
    The Great Wave off Kanagawa (神奈川沖浪裏, Kanagawa-oki nami ura, "Under a wave off Kanagawa"), also known as The Great Wave or simply The Wave, is a woodblock print by the Japanese ukiyo-e artist Hokusai. It was published sometime between 1829 and 1833 in the late Edo period as the first print in Hokusai's series Thirty-six Views of Mount Fuji. It is Hokusai's most famous work, and one of the most recognizable works of Japanese art in the world.
    The image depicts an enormous wave threatening boats off the coast of the town of Kanagawa (the present-day city of Yokohama, Kanagawa Prefecture). While sometimes assumed to be a tsunami, the wave is more likely to be a large rogue wave. As in many of the prints in the series, it depicts the area around Mount Fuji under particular conditions, and the mountain itself appears in the background.
    `,
    wikipediaLink: "https://en.wikipedia.org/wiki/The_Great_Wave_off_Kanagawa",
  },
  {
    nome: "The Kiss",
    autor: "Gustav Klimt",
    ano: 1908,
    arquivo: "./the-kiss-1908.jpg",
    descricao: `
    The Kiss is probably Gustav Klimt’s most famous work. It is also the high point of the artist’s Gold Period, which was characterized by his use of gold leaf in his work. This painting is one in which Klimt deviated from his portrayal of dominant in women in the form of a femme fatale. Instead is the portrayal of love and art, a couple locked in a golden-flecked, flower-filled embrace. Klimt was a man with an unbridled sexual appetite, as he fathered at least 14 illegitimate children. It is rumored that Klimt and his longtime companion, Emile Floge, who was also said to be his lover, were the models of the painting, which was selected to be printed on the Austrian 100 euro coin, minted in 2003.
    `,
    wikipediaLink: "https://en.wikipedia.org/wiki/The_Kiss_(Klimt)",
  },
  {
    nome: "Abaporu",
    autor: "Tarsila do Amaral",
    ano: 1928,
    arquivo: "./abaporu.jpg",
    descricao: `
    Abaporu (from Tupi language "abapor’u", abá (man) + poro (people) + ’u (to eat), lit. 'the man that eats people') is an oil painting on canvas by Brazilian painter Tarsila do Amaral. It was painted as a birthday gift to writer Oswald de Andrade, who was her husband at the time.
    It is considered the most valuable painting by a Brazilian artist, having reached the value of $1.4 million, paid by Argentine collector Eduardo Costantini in an auction in 1995. It is currently displayed at the Latin American Art Museum of Buenos Aires (Spanish: Museo de Arte Latinoamericano de Buenos Aires, MALBA) in Buenos Aires, Argentina.
    The composition: one man, the sun and a cactus – inspired Oswald de Andrade to write the Manifesto Antropófago and consequently create the Anthropophagic Movement, intended to "swallow" foreign culture and turn it into something culturally Brazilian.`,
    wikipediaLink: "https://en.wikipedia.org/wiki/Abaporu",
  },
  {
    nome: "The Last Supper",
    autor: "Leonardo da Vinci",
    ano: 1495,
    arquivo: "./the-last-supper-restored-da-vinci.jpg",
    descricao: `
    The Last Supper (Italian: Il Cenacolo [il tʃeˈnaːkolo] or L'Ultima Cena [ˈlultima ˈtʃeːna]) is a late 15th-century mural painting by Italian artist Leonardo da Vinci housed by the refectory of the Convent of Santa Maria delle Grazie in Milan, Italy. It is one of the world's most recognizable paintings.
    The work is presumed to have been started around 1495–96 and was commissioned as part of a plan of renovations to the church and its convent buildings by Leonardo's patron Ludovico Sforza, Duke of Milan. The painting represents the scene of the Last Supper of Jesus with his apostles, as it is told in the Gospel of John, 13:21. Leonardo has depicted the consternation that occurred among the Twelve Disciples when Jesus announced that one of them would betray him.
    `,
    wikipediaLink:
      "https://en.wikipedia.org/wiki/The_Last_Supper_(Leonardo_da_Vinci)",
  },
  {
    nome: "The Persistence of Memory",
    autor: "Salvador Dali",
    ano: 1931,
    arquivo: "./the-persistence-of-memory-1931.jpg",
    descricao: `
    The Persistence of Memory (Spanish: La persistencia de la memoria) is a 1931 painting by artist Salvador Dalí, and one of his most recognizable works. First shown at the Julien Levy Gallery in 1932, since 1934 the painting has been in the collection of the Museum of Modern Art (MoMA) in New York City, which received it from an anonymous donor. It is widely recognized and frequently referenced in popular culture, and sometimes referred to by more descriptive (though incorrect) titles, such as "Melting Clocks", "The Soft Watches" or "The Melting Watches".
    `,
    wikipediaLink: "https://en.wikipedia.org/wiki/The_Persistence_of_Memory",
  },
  {
    nome: "The Scream",
    autor: "Edvard Munch",
    ano: 1893,
    arquivo: "./the-scream-1893.jpg",
    descricao: `
    The Scream is the best known and most frequently reproduced of all Munch’s motifs. With its expressive colours, its flowing lines and striking overall effect, its appeal is universal.
    Despite radical simplification, the landscape in the picture is recognisable as the Kristiania Fjord seen from Ekeberg, with a broad view over the fjord, the town and the hills beyond. In the background to the left, at the end of the path with the balustrade that cuts diagonally across the picture, we see two strolling figures, often regarded as two friends whom Munch mentions in notes relating to the picture. But the figure in the foreground is the first to capture the viewer’s attention. Its hands are held to its head and its mouth is wide open in a silent scream, which is amplified by the undulating movement running through the surrounding landscape.
    `,
    wikipediaLink: "https://en.wikipedia.org/wiki/The_Scream",
  },
  {
    nome: "The Starry Night",
    autor: "Vincent van Gogh",
    ano: 1889,
    arquivo: "./the-starry-night.jpg",
    descricao: `
    The Starry Night is an oil on canvas by the Dutch post-impressionist painter Vincent van Gogh. Painted in June 1889, it depicts the view from the east-facing window of his asylum room at Saint-Rémy-de-Provence, just before sunrise, with the addition of an idealized village.
    The Starry Night is regarded as among Van Gogh's finest works, and is one of the most recognized paintings in the history of Western culture. It has been in the permanent collection of the Museum of Modern Art in New York City since 1941, acquired through the Lillie P. Bliss Bequest.
    `,
    wikipediaLink: "https://en.wikipedia.org/wiki/The_Starry_Night",
  },
  {
    nome: "Dance at Moulin de la Galette",
    autor: "Pierre-Auguste Renoir",
    ano: 1876,
    arquivo: "./ball-at-the-moulin-de-la-galette-1876.jpg",
    descricao: `
    Dance at Moulin de la Galette is one of Impressionism’s most highly revered masterpieces. The scene is of a Sunday afternoon at Moulin de la Galette, where Parisians would typically dress up and spend all day dancing, drinking, and eating galettes, or flat cakes. The painting was in the collection of Gustave Caillebotte, but it was claimed by the French government upon his death due to the non payment of death duties. It was later transferred from the Luxembourg Museum, to the Louvre, and then later to the Musee d’Orsay. Its sale price at auction in 2009 was the fifth highest price ever paid for a painting at auction.`,
    wikipediaLink: "https://en.wikipedia.org/wiki/Bal_du_moulin_de_la_Galette",
  },
  {
    nome: "Boulevard Montmartre Afternoon Sunlight",
    autor: "Camille Pissarro",
    ano: 1897,
    arquivo: "./boulevard-montmartre-afternoon-sunlight-1897.jpg",
    descricao: `
    Le Boulevard de Montmartre, Matinée de Printemps is an 1897 oil on canvas painting of Paris' Boulevard Montmartre by the French artist Camille Pissarro.
    By 1923 it was in the collection of the German industrialist and Holocaust victim Max Silberberg (de). Silberberg was obliged by the ruling Nazi regime to dispose of the work in a forced sale in 1935. It was restituted to his family in 2000 and placed on loan with the Israel Museum until 2013. On 5 February 2014 it was auctioned at Sotheby's, London, for £19,682,500, double its pre-sale estimate.`,
    wikipediaLink: "https://en.wikipedia.org/wiki/Camille_Pissarro",
  },
];

nomesPinturasParaOpcoes = pinturas.concat([
  { nome: "Mona Lisa", autor: "Leonardo da Vinci" },
  { nome: "Summer", autor: "Francisco Goya" },
  { nome: "The Two Fridas", autor: "Frida Kahlo" },
  { nome: "The lovers", autor: "Rene Magritte" },
  { nome: "Portrait of Adele Bloch-Bauer I", autor: "Gustav Klimt" },
  { nome: "Dance", autor: "Henri Matisse" },
  { nome: "Forever Always", autor: "Octavio Ocampo" },
  { nome: "The Birth of Venus", autor: "Sandro Botticelli" },
  { nome: "Portrait of Dora Maar", autor: "Pablo Picasso" },
  { nome: "The Luncheon on the Grass", autor: "Edouard Manet" },
]); // Opções de respostas extras para pinturas que não estão no jogo

var circlesIdsArray = []; // a array para os ids dos círculos criados
var qtdCirculosTotal = 0; // quantidade total de círculos utilizados para encobrir a imagem
var qtdCliquesAteAgora = 0; // quantidade de cliques já realizados para a mostrar a pintura nesta fase
var qtdCliquesAtePinturaCompleta = 6; // quantidade de cliques até a pintura ser totalmente exibida
var renderizacaoPorContaDeMudancaDeTela = false; // é uma nova renderização por conta de mudança do tamanho da tela?
var pinturaRodadaAtual = {}; // armazena as informações da pintura da rodada atual
var pinturasRodadasPassadas = []; // array para guardar pinturas que já apareceram em rodadas passadas
var scorePotencialDaRodada = 0; // score potencial da rodada atual
var scoreAtual = 0; // score atual acumulado do jogador
var rodadaTerminou = false; // armazena se rodada atual já terminou para inviabilizar cliques em opções de resposta

function mostrarPopUpInicio() {
  let fundoOfuscado = document.createElement("div");
  fundoOfuscado.id = "fundoOfuscado";
  document.getElementById("corpoSite").appendChild(fundoOfuscado);
  let popUp = document.createElement("div");
  popUp.id = "popUpInicioDoJogo";
  document.getElementById("corpoSite").appendChild(popUp);
  let bemVindoTitulo = document.createElement("div");
  bemVindoTitulo.innerText = `Welcome to the Guess the Painting Game! 
  
  Are you up for a challenge?

  Try to discover the names and artists of the hidden paintings. 

  Be aware that the more you see of the painting, the fewer points you can score.`;
  popUp.appendChild(bemVindoTitulo);
  let botaoIniciarJogo = document.createElement("button");
  botaoIniciarJogo.classList.add("botoes");
  botaoIniciarJogo.innerText = "Start Game";
  popUp.appendChild(botaoIniciarJogo);
  botaoIniciarJogo.addEventListener("click", () => {
    document.getElementById("popUpInicioDoJogo").remove();
    document.getElementById("fundoOfuscado").remove();
  });
}

Array.prototype.sample = function () {
  // método seleciona item aleatório de array
  return this[Math.floor(Math.random() * this.length)];
};

function iniciarRodada() {
  // Esta função confere se todas as pinturas do jogo já apareceram e, se sim, termina o jogo, caso contrário,
  // seleciona a pintura atual e cria os elementos da nova rodada
  document.getElementById("resolucao").style.position = "fixed";
  document.getElementById("resolucao").style.right = "-35%";
  if (pinturasRodadasPassadas.length === pinturas.length) {
    terminarJogo();
    return;
  }
  rodadaTerminou = false; // quando verdadeiro, inviabiliza cliques em opções de resposta
  //selecionar pintura atual:
  for (let i = 0; i < 1; ) {
    let pinturaNovaRodada = pinturas.sample(); // método array.prototype.sample() foi criado para escolher item aleatório de array
    if (pinturasRodadasPassadas.indexOf(pinturaNovaRodada) === -1) {
      // confere se pintura já foi escolhida em rodadas anteriores
      pinturaRodadaAtual = pinturaNovaRodada;
      i++;
    }
  }
  pinturasRodadasPassadas.push(pinturaRodadaAtual);
  //apagar pintura e opções de resposta da rodada passada, se existirem:
  if (document.body.contains(document.getElementById("pinturaImagem"))) {
    document.getElementById("pinturaImagem").remove();
  }
  document.getElementById("opcoesResposta").innerText = "";
  //criar pintura e opções de resposta da nova rodada:
  pinturaElementoHTML = adicionarPintura();
  adicionarOpcoesDeResposta();
}

function adicionarOpcoesDeResposta() {
  // criar lista de opções de resposta para a rodada:
  let opcoesDeResposta = criarListaDeOpcoesResposta();
  // criar elementos para opções de resposta:
  for (let numeroOpcao = 0; numeroOpcao < 6; numeroOpcao++) {
    opcoesRotuloElementoHTML = document.createElement("button");
    opcoesRotuloElementoHTML.classList.add("botoes");
    opcoesRotuloElementoHTML.classList.add("opcoesDeResposta");
    let pinturaOpcao = opcoesDeResposta.sample();
    opcoesDeResposta.splice(opcoesDeResposta.indexOf(pinturaOpcao), 1);
    opcoesRotuloElementoHTML.innerText =
      String.fromCharCode("a".charCodeAt(0) + numeroOpcao) +
      `) ${pinturaOpcao.nome} by ${pinturaOpcao.autor}`;
    document
      .getElementById("opcoesResposta")
      .appendChild(opcoesRotuloElementoHTML);
    opcoesRotuloElementoHTML.addEventListener("click", () =>
      conferirResposta(pinturaOpcao)
    );
  }
}

function criarListaDeOpcoesResposta() {
  // cria uma array com as opções de resposta para a rodada:
  let listaDeOpcoes = [pinturaRodadaAtual];
  // remover nome da pintura da rodada atual de nomes de pinturas para opções:
  nomesPinturasParaOpcoes.splice(
    nomesPinturasParaOpcoes.indexOf(pinturaRodadaAtual),
    1
  ); // nomePinturasParaOpcoes contém os nomes das pinturas do jogo e nomes extras adicionados para uma gama maior de opções
  // escolhe aleatoriamente mais 5 nomes de pinturas para aparecer nas opções:
  for (let i = 0; i < 5; ) {
    pinturaAleatoria = nomesPinturasParaOpcoes.sample();
    if (listaDeOpcoes.indexOf(pinturaAleatoria) === -1) {
      listaDeOpcoes.push(pinturaAleatoria);
      i++;
    }
  }
  return listaDeOpcoes;
}

function adicionarPintura() {
  // Esta função adiciona a pintura ao site
  var pinturaElementoHTML = document.createElement("img");
  pinturaElementoHTML.src = `./assets/${pinturaRodadaAtual.arquivo}`;
  pinturaElementoHTML.id = "pinturaImagem";
  document.getElementById("pinturaConteiner").appendChild(pinturaElementoHTML);
  document.getElementById("pinturaConteiner").style.width = "100%";
  pinturaElementoHTML.classList.add("hidden");
  pinturaElementoHTML.onload = (event) => {
    setTimeout(() => {
      // mostrar a pintura e adaptar as dimensões da pintura ao espaço da tela:
      pinturaElementoHTML.classList.remove("hidden");
      document.getElementById("opcoesResposta").classList.remove("hidden");
      let alturaRelativa = pinturaElementoHTML.height / window.innerHeight;
      let larguraRelativa = pinturaElementoHTML.width / window.innerWidth;
      if (alturaRelativa > larguraRelativa) {
        pinturaElementoHTML.style.height =
          (window.innerHeight * 0.7).toString() + "px";
        //pinturaElementoHTML.style.width = "100%";
      } else {
        pinturaElementoHTML.style.width = "90%";
      }
      // após adição da pintura, convocar função que cria os círculos que escondem a pintura:
      adicionarCirculos();
    }, 2000);
  };
  qtdCliquesAteAgora = 0;
  return pinturaElementoHTML;
}

function adicionarCirculos() {
  //Esta função remove eventuais círculos já existentes e cria novos para esconder a pintura
  let pinturaElementoHTML = document.getElementById("pinturaImagem");
  const circles = document.getElementsByClassName("circles");
  if (circles.length > 0) {
    for (let i = circles.length - 1; i >= 0; i--) {
      circles[i].remove();
    }
    circlesIdsArray = [];
  }
  //criar os círculos novos:
  let larguraPintura = pinturaElementoHTML.width;
  let alturaPintura = pinturaElementoHTML.height;
  let qtdCirculosHorizontal = larguraPintura / 20;
  let qtdCirculosVertical = alturaPintura / 20;
  qtdCirculosTotal =
    Math.ceil(qtdCirculosHorizontal) * Math.ceil(qtdCirculosVertical);
  let topPintura = document
    .getElementById("pinturaImagem")
    .getBoundingClientRect().top;
  let leftPintura = document
    .getElementById("pinturaImagem")
    .getBoundingClientRect().left;
  for (var i = 0; i < qtdCirculosVertical; i++) {
    for (var j = 0; j < qtdCirculosHorizontal; j++) {
      //criar cada círculo:
      circlesIdsArray.push(`c${i}/${j}`);
      let circle = document.createElement("div");
      circle.style.top = i * 20 - 10 + "px";
      circle.style.left = j * 20 - 35 + leftPintura + "px";
      circle.classList.add("circles");
      circle.id = `c${i}/${j}`;
      document.getElementById("pinturaConteiner").appendChild(circle);
    }
  }
  console.log(document.getElementsByClassName("circles").length);
  mostrarPintura((cliqueBotao = false));
  mostrarPintura((cliqueBotao = false));
  mostrarPintura((cliqueBotao = false));
}

function mostrarPintura(cliqueBotao = true) {
  //Esta função mostra a pintura pouco a pouco escondendo os círculos brancos
  qtdCliquesAteAgora++;
  if (qtdCliquesAteAgora > qtdCliquesAtePinturaCompleta) {
    return;
  } else if (qtdCliquesAteAgora === qtdCliquesAtePinturaCompleta) {
    mostrarPinturaCompleta();
    atualizarScore();
  } else {
    //esconder mais círculos brancos:
    if (renderizacaoPorContaDeMudancaDeTela === true) {
      //esconder os circulos para resgatar rodada atual
      qtdIteracoes =
        (qtdCirculosTotal / qtdCliquesAtePinturaCompleta) * qtdCliquesAteAgora;
    } else {
      //esconder apenas mais uma rodada de círculos
      qtdIteracoes = qtdCirculosTotal / qtdCliquesAtePinturaCompleta;
      atualizarScore();
      cliqueBotao ? realcarScore((cor = "red")) : null;
    }
    for (var i = 0; i < qtdIteracoes; i++) {
      //esconder cada círculo branco:
      let id = circlesIdsArray.sample();
      circlesIdsArray.splice(circlesIdsArray.indexOf(id), 1);
      const circle = document.getElementById(id);
      circle.classList.add("hidden");
    }
  }
  renderizacaoPorContaDeMudancaDeTela = false;
}

function mostrarPinturaCompleta() {
  //esconder todos os círculos brancos restantes:
  let qtdCirculosRestantes = circlesIdsArray.length;
  for (var i = 0; i < qtdCirculosRestantes; i++) {
    //esconde cada círculo branco:
    let id = circlesIdsArray.sample();
    circlesIdsArray.splice(circlesIdsArray.indexOf(id), 1);
    const circle = document.getElementById(id);
    circle.classList.add("hidden");
  }
}

function adicionarBotaoMostrar() {
  // Esta função adiciona o botão de mostrar mais da pintura
  document.getElementById(
    "botaoShowConteiner"
  ).innerHTML += `<button id="botaoShow" class="botoes" onclick="mostrarPintura()"> Show more of the painting </button>`;
}

function renderizarNovamente() {
  // Esta função renderiza novamente a tela para quando houver uma mudança no tamanho da tela
  qtdCliquesAteAgora--;
  qtdCliquesAteAgora--;
  qtdCliquesAteAgora--;
  renderizacaoPorContaDeMudancaDeTela = true;
  adicionarCirculos(); // remove os círculos brancos antigos e os recria com base no novo tamanho da tela
}

function conferirResposta(pinturaOpcao) {
  if (rodadaTerminou === true) {
    return; // rodada já terminou, cliques em opções de resposta são inviabilizados
  }
  if (pinturaOpcao.nome === pinturaRodadaAtual.nome) {
    mostrarResolucao(); // resposta correta
  } else {
    mostrarResolucao(false); // resposta errada
  }
  rodadaTerminou = true;
}

function atualizarScore() {
  // Esta função recalcula o score potencial da rodada e atualiza o placar com o score até o momento e o potencial da rodada
  scorePotencialDaRodada =
    1750 - Math.min(qtdCliquesAteAgora, qtdCliquesAtePinturaCompleta) * 250;
  if (document.body.contains(document.getElementById("score"))) {
    scoreElementoHTML = document.getElementById("score");
  } else {
    scoreElementoHTML = document.createElement("div");
    scoreElementoHTML.id = "score";
    document.getElementById("scoreConteiner").appendChild(scoreElementoHTML);
  }
  scoreElementoHTML.innerText = `Potencial score for this round: ${scorePotencialDaRodada}
  Your score so far: ${scoreAtual}`;
}

function realcarScore(cor = "red") {
  // Esta função realça temporariamente o placar do score para ressaltar que houve mudança
  document.getElementById("score").style.background = cor;
  setTimeout(
    () => (document.getElementById("score").style.background = "#ffdf7d"),
    2000
  );
}

function mostrarResolucao(acerto = true) {
  // Esta função mostra a resolução da rodada, se o jogador acertou ou errou e a história da pintura
  // Abrir aba de resolução:
  document.getElementById("resolucao").innerText = "";
  document.getElementById("resolucao").style.position = "absolute";
  document.getElementById("resolucao").style.right = "0.5%";
  setTimeout(() => {
    document.getElementById("pinturaImagem").style.maxWidth = "fit-content";
    document.getElementById("pinturaImagem").style.maxHeight = "fit-content";
  }, 2000);
  document.getElementById("pinturaConteiner").style.width = "67.5%";
  document.getElementById("opcoesResposta").classList.add("hidden");

  if (acerto) {
    // Mostrar 'Correct Answer!' e incrementar score:
    let tituloRespostaCorreta = document.createElement("h2");
    tituloRespostaCorreta.id = "tituloRespostaCorreta";
    document.getElementById("resolucao").appendChild(tituloRespostaCorreta);
    tituloRespostaCorreta.innerText = `Correct Answer!`;
    scoreAtual += scorePotencialDaRodada;
    realcarScore((cor = "lightgreen"));
  } else {
    // Mostrar 'Wrong Answer! The correct answer is:' e realçar score:
    let conteinerRespostaErrada = document.createElement("div");
    conteinerRespostaErrada.id = "conteinerRespostaErrada";
    document.getElementById("resolucao").appendChild(conteinerRespostaErrada);
    let tituloRespostaErrada = document.createElement("h2");
    tituloRespostaErrada.id = "tituloRespostaErrada";
    document
      .getElementById("conteinerRespostaErrada")
      .appendChild(tituloRespostaErrada);
    tituloRespostaErrada.innerText = `Wrong Answer!`;
    let respostaCorretaE = document.createElement("h2");
    respostaCorretaE.innerText = `The correct answer is:`;
    document
      .getElementById("conteinerRespostaErrada")
      .appendChild(respostaCorretaE);
    realcarScore((cor = "red"));
  }
  atualizarScore();
  // Mostrar nome e história da pintura:
  let tituloResolucaoHTML = document.createElement("h2");
  tituloResolucaoHTML.innerText = `"${pinturaRodadaAtual.nome}"
  by ${pinturaRodadaAtual.autor}`;
  document.getElementById("resolucao").appendChild(tituloResolucaoHTML);
  let conteudoResolucaoHTML = document.createElement("div");
  document.getElementById("resolucao").appendChild(conteudoResolucaoHTML);
  conteudoResolucaoHTML.innerText += `
  Painted in ${pinturaRodadaAtual.ano}. 
  ${pinturaRodadaAtual.descricao} 
  For more information, visit the Wikipedia article at: 
  `;
  let wikipediaLinkHTML = document.createElement("a");
  conteudoResolucaoHTML.appendChild(wikipediaLinkHTML);
  wikipediaLinkHTML.innerText = pinturaRodadaAtual.wikipediaLink;
  wikipediaLinkHTML.href = pinturaRodadaAtual.wikipediaLink;
  qtdCliquesAteAgora = qtdCliquesAtePinturaCompleta;
  mostrarPinturaCompleta();
  adicionarBotaoProximaRodada();
}

function adicionarBotaoProximaRodada() {
  // Esta função cria o elemento do botão de próxima rodada:
  let botaoProximaRodada = document.createElement("button");
  document.getElementById("resolucao").appendChild(botaoProximaRodada);
  botaoProximaRodada.innerText = "Next round →";
  botaoProximaRodada.id = "botaoProximaRodada";
  botaoProximaRodada.classList.add("botoes");
  botaoProximaRodada.addEventListener("click", iniciarRodada);
}

function terminarJogo() {
  // Esta função termina o jogo, mostrando o pop up final com os resultados:
  let popUp = document.createElement("div");
  popUp.id = "popUpFimDoJogo";
  document.getElementById("corpoSite").appendChild(popUp);
  let parabensTitulo = document.createElement("div");
  popUp.appendChild(parabensTitulo);
  parabensTitulo.innerText = `Congratulations! You finished the game!
  Your total score was:`;
  let scoreFinal = document.createElement("div");
  scoreFinal.id = "scoreFinal";
  document.getElementById("popUpFimDoJogo").appendChild(scoreFinal);
  scoreFinal.innerText = `${scoreAtual} points.`;
  let compartilheOSeuScore = document.createElement("div");
  document.getElementById("popUpFimDoJogo").appendChild(compartilheOSeuScore);
  compartilheOSeuScore.innerText = `Take a printscreen of this screen to show off your art knowledge to your friends.`;
}

mostrarPopUpInicio();
iniciarRodada();
adicionarBotaoMostrar();
window.addEventListener("resize", () => renderizarNovamente()); // renderizar novamente em caso de mudança no tamanho da tela
